insert:
  name: 'insert'
  description: 'insert into <schema>.<table> (column1, column2, column3) values (val1, val2, val3);'
  kind: DirectSubsetRules # прямой порядок применения набора правил
  rules:
    # правило для последовательности insert into ...
    - name: initial-keyword
      kind: TokenDirectOrder # прямой порядок следования токенов
      tokens:
        - name: insert
          kind: Keyword # тип токена
          value: insert # ожидаемое значение токена
        - name: into
          kind: Keyword
          value: into # ожидаемое значение токена

    # правила для именования таблиц
    - name: schema-table-name
      kind: OneOfSubsetRules
      subset:
        - name: schema-and-table
          rules:
            - name: token-required
              kind: TokenDirectOrder
              tokens:
                - name: schema
                  kind: Word
                  pattern: '[a-zA-Z][a-zA-Z0-9]*'
                - name: separator
                  kind: Dot
                - name: tableName
                  kind: Word
                  pattern: '[a-zA-Z][a-zA-Z0-9]*'
        - name: only-table
          rules:
            - name: token-required
              kind: TokenDirectOrder
              tokens:
                - name: tableName
                  kind: Word
                  pattern: '[a-zA-Z][a-zA-Z0-9]*'

    # (column1, column2, column3)
    - name: list-columns
      kind: DirectSubsetRules
      rules:
        - name: open-parenthesis
          kind: TokenDirectOrder
          tokens:
            - name: open
              kind: ParenthesisOpen

        - name: list-columns
          kind: RepeatDirectOrder
          tokens:
            - name: val
              kind: Keyword | Word
            - name: comma
              kind: Comma
          skipLastToken: true

        - name: close-parenthesis
          kind: TokenDirectOrder
          tokens:
            - name: close
              kind: ParenthesisClose


    - name: rule2
      kind: Optional
      tokens:
        - name: schemaName
          kind: Keyword | Word
        - name: dot
          kind: Dot

    - name: rule3
      kind: DirectOrder
      tokens:
        - name: table
          kind: Keyword | Word
        - name: open_parenthesis
          kind: ParenthesisOpen

    - name: rule4
      kind: RepeatDirectOrder
      tokens:
        - name: column
          kind: Keyword | Word
        - name: comma
          kind: Comma
          useInLast: false

    - name: rule5
      kind: DirectOrder
      tokens:
        - name: close_parenthesis
          kind: ParenthesisClose
        - name: values
          kind: Keyword

    - name: rule6
      kind: RepeatRules
      rules:
        - name: rule_values
          kind: DirectOrder
          tokens:
            - name: open
              kind: ParenthesisOpen
        - name: values
          kind: RepeatDirectOrder
          tokens:
            - name: val
              kind: Keyword | Word
            - name: comma
              kind: Comma
              useInLast: false
        - name: rule_close
          kind: DirectOrder
          tokens:
           - name: close
             kind: ParenthesisClose
        - name: close_list_values
          kind: DirectOrder
          tokens:
            - name: comma
              kind: Comma
          useInLast: false
